import{a as f,c as i,b as y,d as u,e as l,f as p,w as h,g as t,j as d,t as c,n as $,F as x,m as F,q as v,s as N}from"./index-94ea20d8.js";const S={class:"cart"},V={class:"peoducts"},q=["src"],B={class:"toda"},T={class:"spat"},w={class:"cpan"},D={class:"desu"},M={class:"desu"},P={class:"kolvo"},j={class:"buttoms"},z=["onClick"],E=["onClick"],L=["onClick"],W={key:0,class:"ops"},A={class:"summ"},G={class:"saym"},H={key:1,class:"not"},O={__name:"Cart",setup(J){const e=f(),r=i(()=>e.cart);i(()=>e.cartTotal);const k=o=>{e.removeFromCart(o)},m=()=>{e.buy()},C=o=>{const n=o.product;e.reduce(n,1)},b=i(()=>r.value.reduce((o,n)=>{const a=n.product,s=Math.floor(a.price-a.price*a.discountPercentage/100);return o+s*n.quantity},0)),g=o=>{const n=o.product;e.addToCart(n,1)};return(o,n)=>{const a=y("router-link");return u(),l("div",S,[p(a,{to:"/",class:"hav"},{default:h(()=>[d("⇐")]),_:1}),t("h2",{class:$(["mark",{marg:r.value.length==0}])},[d(c(r.value.length==0?"Корзина Пуста":"Корзина")+" ",1),p(a,{to:"/",class:"mark tven"},{default:h(()=>[d("⇐ На главную")]),_:1})],2),t("ul",V,[(u(!0),l(x,null,F(r.value,s=>(u(),l("li",{key:s.product.id,class:"producttt"},[t("img",{src:s.product.thumbnail,alt:""},null,8,q),t("p",B,[t("span",T,c(Math.floor(s.product.price-s.product.price*s.product.discountPercentage/100))+"$ ",1),t("span",w,c(s.product.price+"$"),1)]),t("h3",null,c(s.product.title),1),t("p",D,c(s.product.description),1),t("p",M,"В наличии: "+c(s.product.stock),1),t("p",P,"Количество: "+c(s.quantity),1),t("div",j,[t("button",{class:"custom-button",onClick:_=>C(s)},"-",8,z),t("button",{onClick:_=>g(s),class:"custom-button"},"+",8,E)]),t("button",{class:"custom-button",onClick:_=>k(s.product)}," Убрать из корзины ",8,L)]))),128))]),r.value.length!==0?(u(),l("div",W,[t("p",A,[d("Сумма: "),t("span",G,c(b.value)+"$ ",1)]),t("div",{class:"custom-button",onClick:m},"Купить")])):v("",!0),N(e).not?(u(),l("div",H,"Куплено!")):v("",!0)])}}};export{O as default};
